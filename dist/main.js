(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var c=e.g.document;if(!t&&c&&(c.currentScript&&(t=c.currentScript.src),!t)){var o=c.getElementsByTagName("script");o.length&&(t=o[o.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=e.p+"c11ca64583db9195885d.svg";class c{projectTasks=[];constructor(e){this.projectName=e}}function o(e,t){e.push(new c(t))}class n{isStarred=!1;isCompleted=!1;constructor(e,t,c,o,n){this.taskTitle=e,this.taskDescription=t,this.taskStartDate=c,this.taskDueDate=o,this.taskPriority=n}}const a=null===localStorage.getItem("projectList")?[]:JSON.parse(localStorage.getItem("projectList"));0===a.length&&(o(a,"General"),localStorage.setItem("projectList",JSON.stringify(a)));let r=0;const s=document.querySelector(".backdrop"),i=document.querySelector(".modal"),d=document.querySelector("#open");function l(){document.querySelector("#projectName").value="",s.style.display="none",i.classList.remove("open-modal")}function u(){const e=document.querySelector(".projectList");for(;e.firstChild;)e.removeChild(e.lastChild);document.querySelector(".activeProjectName").innerHTML=a[r].projectName;let c=0;a.forEach((o=>{const n=document.createElement("div");n.classList.add("projectElement");const a=document.createElement("div");a.classList.add("projectItemHeading"),a.innerHTML=o.projectName,a.setAttribute("data-projectindex",c),a.addEventListener("click",p);const r=document.createElement("div");r.classList.add("editProjectButton"),r.innerHTML=`<img src=${t} data-projectindex=${c}>`,r.addEventListener("click",m);const s=document.createElement("div");s.classList.add("deleteProjectButton"),s.innerHTML=`<span data-projectindex=${c}>&times;</span>`,s.addEventListener("click",k),n.appendChild(a),n.appendChild(r),n.appendChild(s),n.setAttribute("data-projectindex",c),e.appendChild(n),c++})),document.querySelectorAll(".projectItemHeading")[r].classList.toggle("active")}function p(e){const t=document.querySelectorAll(".projectItemHeading"),c=e.srcElement.dataset.projectindex;r!==c&&(t[r].classList.toggle("active"),r=c,document.querySelector(".activeProjectName").innerHTML=a[r].projectName,t[r].classList.toggle("active"),L())}function m(e){!function(e){y.style.display="block",S.classList.add("open-modal"),document.querySelector("#newProjectName").value=a[e].projectName;document.querySelector("#updateProject").setAttribute("data-projectindex",e)}(e.srcElement.dataset.projectindex)}function k(e){!function(e,t){e.splice(t,1)}(a,e.srcElement.dataset.projectindex),localStorage.setItem("projectList",JSON.stringify(a)),Number(r)===Number(e.srcElement.dataset.projectindex)&&(r=0,L()),u()}close=document.querySelector("#close"),d.addEventListener("click",(function(){s.style.display="block",i.classList.add("open-modal")})),close.addEventListener("click",l),s.addEventListener("click",l),u(),L(),document.querySelector("#submit").addEventListener("click",(function(e){e.preventDefault();const t=document.querySelector("#form"),c=t.checkValidity();if(t.reportValidity(),c){const e=document.querySelector("#projectName").value;l(),o(a,e),localStorage.setItem("projectList",JSON.stringify(a)),1!==a.length&&(r+=1),u(),L()}}));const y=document.querySelector(".updateBackdrop"),S=document.querySelector(".updateProjectModal");function v(){document.querySelector("#newProjectName").value="",y.style.display="none",S.classList.remove("open-modal")}function L(){const e=document.querySelector(".taskList");for(;e.firstChild;)e.removeChild(e.lastChild);if(0===a.length)e.innerHTML='<div class="warning">Add a project to continue</div>';else if(0===a[r].projectTasks.length)e.innerHTML='<div class="warning">No Tasks in this Project</div>';else{let t=0;a[r].projectTasks.forEach((c=>{const o=document.createElement("div");o.classList.add("taskUI");const n=document.createElement("div");n.classList.add("taskHeader"),n.innerHTML=c.taskTitle,o.appendChild(n);const a=document.createElement("div");a.classList.add("taskContent"),[["Description",0===c.taskDescription.length?"No Description":c.taskDescription],["Start Date",c.taskStartDate],["Due Date",c.taskDueDate],["Priority",c.taskPriority],["Completed?",c.isCompleted?"Yes":"No"]].forEach((e=>{const t=document.createElement("div");t.classList.add("contentRow");const c=document.createElement("div");c.classList.add("rowTitle"),c.innerHTML=e[0];const o=document.createElement("div");o.classList.add("rowContent"),o.innerHTML=e[1],t.appendChild(c),t.appendChild(o),a.appendChild(t)})),o.appendChild(a);const r=document.createElement("div");r.classList.add("taskControls");const s=document.createElement("button");s.classList.add("complete"),s.innerHTML=c.isCompleted?"INCOMPLETE":"COMPLETE",s.setAttribute("data-taskindex",t),s.addEventListener("click",T);const i=document.createElement("button");i.classList.add("edit"),i.innerHTML="EDIT",i.setAttribute("data-taskindex",t),i.addEventListener("click",j);const d=document.createElement("button");d.classList.add("delete"),d.innerHTML="DELETE",d.setAttribute("data-taskindex",t),d.addEventListener("click",f),r.appendChild(s),r.appendChild(i),r.appendChild(d),o.appendChild(r),e.appendChild(o),t++}))}}function T(e){let t=e.srcElement.dataset.taskindex;!function(e,t){e[t].isCompleted=!0!==e[t].isCompleted}(a[r].projectTasks,t),localStorage.setItem("projectList",JSON.stringify(a)),L()}function j(e){!function(e){document.querySelector("#updateTaskDueDate").setAttribute("min",(new Date).toISOString().split("T")[0]),N.style.display="block",C.classList.add("open-modal"),document.querySelector("#updateTaskName").value=a[r].projectTasks[e].taskTitle,document.querySelector("#updateTaskDescription").value=a[r].projectTasks[e].taskDescription,document.querySelector("#updateTaskDueDate").value=a[r].projectTasks[e].taskDueDate,document.querySelector("#updateTaskPriority").value=a[r].projectTasks[e].taskPriority;document.querySelector("#updateTask").setAttribute("data-taskindex",e)}(e.srcElement.dataset.taskindex)}function f(e){let t=e.srcElement.dataset.taskindex;!function(e,t){e.splice(t,1)}(a[r].projectTasks,t),localStorage.setItem("projectList",JSON.stringify(a)),L()}document.querySelector("#closeUpdateProject").addEventListener("click",v),y.addEventListener("click",v),document.querySelector("#updateProject").addEventListener("click",(function(e){e.preventDefault();const t=document.querySelector("#updateProjectForm"),c=t.checkValidity();if(t.reportValidity(),c){const t=document.querySelector("#newProjectName").value,c=e.srcElement.dataset.projectindex;!function(e,t,c){e[t].projectName=c}(a,c,t),localStorage.setItem("projectList",JSON.stringify(a)),u(),v()}}));const q=document.querySelector(".newTaskBackdrop"),E=document.querySelector(".newTaskModal"),g=document.querySelector("#openNewTask"),h=document.querySelector("#closeNewTask");function D(){document.querySelector("#newTaskName").value="",document.querySelector("#description").value="",document.querySelector("#dueDate").value="",document.querySelector("#priority").value="Low",q.style.display="none",E.classList.remove("open-modal")}g.addEventListener("click",(function(){document.querySelector("#dueDate").setAttribute("min",(new Date).toISOString().split("T")[0]),q.style.display="block",E.classList.add("open-modal")})),h.addEventListener("click",D),q.addEventListener("click",D),document.querySelector("#addTask").addEventListener("click",(function(e){e.preventDefault();const t=document.querySelector("#newTaskForm"),c=t.checkValidity();if(t.reportValidity(),c){const e=document.querySelector("#newTaskName").value,t=document.querySelector("#description").value,c=document.querySelector("#dueDate").value,p=document.querySelector("#priority").value;D(),o=a[r].projectTasks,s=e,i=t,d=(new Date).toISOString().split("T")[0],l=c,u=p,o.push(new n(s,i,d,l,u)),localStorage.setItem("projectList",JSON.stringify(a)),L()}var o,s,i,d,l,u}));const N=document.querySelector(".updateTaskBackdrop"),C=document.querySelector(".updateTaskModal");function w(){document.querySelector("#updateTaskName").value="",document.querySelector("#updateTaskDescription").value="",document.querySelector("#updateTaskDueDate").value="",document.querySelector("#updateTaskPriority").value="Low",N.style.display="none",C.classList.remove("open-modal")}document.querySelector("#closeUpdateTask").addEventListener("click",w),N.addEventListener("click",w),document.querySelector("#updateTask").addEventListener("click",(function(e){e.preventDefault();const t=document.querySelector("#updateTaskForm"),c=t.checkValidity();if(t.reportValidity(),c){let t=e.srcElement.dataset.taskindex;const c=document.querySelector("#updateTaskName").value,o=document.querySelector("#updateTaskDescription").value,n=document.querySelector("#updateTaskDueDate").value,s=document.querySelector("#updateTaskPriority").value;w(),function(e,t,c,o,n,a){e[t].taskTitle=c,e[t].taskDescription=o,e[t].taskDueDate=n,e[t].taskPriority=a}(a[r].projectTasks,t,c,o,n,s),localStorage.setItem("projectList",JSON.stringify(a)),L()}}))})();